# Builder — ключевые тезисы

- **Одна JSON-модель для web и RN**
  - Структура страниц и компонентов описывается в формате, независимом от платформы.
  - Компоненты конструктора имеют общий контракт пропсов (layout, типографика, data binding и т.д.).

- **Разделение UI-слоёв**
  - В `builder` (React + MUI) используем MUI только для оболочки редактора: панели, кнопки, формы настроек.
  - Компоненты, которые попадают на холст (Box/Text/Image/ProductShowcase и т.п.), реализуем на своих примитивах без MUI, чтобы их можно было отрендерить и в Next, и в RN.

- **Переиспользуемая бизнес-логика**
  - Общие утилиты и типы (нормализация API, getValueByPath, контекст товара/страницы, flow-формы) выносятся в shared-слой, доступный и для Next, и для RN.

- **Оптимизация и производительность**
  - В web-рендерере — возможность SSR/SSG там, где это уместно.
  - В RN-рендерере — использование FlatList/виртуализации, лёгкие шаблоны карточек, мемоизация разбора JSON.

- **Расширяемость конструктора**
  - Для каждого нового компонента:
    - описываем тип пропсов в общем слое;
    - добавляем реализацию в web-рендерере;
    - добавляем реализацию в RN-рендерере;
    - подключаем в палитру конструктора и сохраняем в JSON.

